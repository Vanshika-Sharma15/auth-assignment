# Task 1: Login
curl -Method POST http://localhost:3000/auth/login `
-Headers @{"Content-Type"="application/json"} `
-Body '{"email":"vanshikasharma.tech@gmail.com","password":"password123"}'

Response:
{"message":"OTP sent","loginSessionId":"grbueo"}

Server Logs:
Server running at http://localhost:3000
POST /auth/login
[OTP] Session grbueo generated: 419016
POST /auth/login -> 200 (26ms)

---

# Task 2: Verify OTP
curl -Method POST http://localhost:3000/auth/verify-otp `
-Headers @{"Content-Type"="application/json"} `
-Body '{"loginSessionId":"grbueo","otp":"419016"}' `
-SessionVariable session

Response:
{"message":"OTP verified","sessionId":"grbueo"}

Server Logs:
POST /auth/verify-otp
POST /auth/verify-otp -> 200 (3ms)

---

# Task 3: Get Token
$tokenResponse = Invoke-RestMethod -Uri http://localhost:3000/auth/token -Method POST -WebSession $session

Response:
access_token
------------
eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InZhbnNoaWthc2hhcm1hLnRlY2hAZ21haWwuY29tIiwic2Vzc2lvbklkIjoiZ3JidWVvIiwiaWF0IjoxNzcwOTk4NDg2LCJleHAiOjE3NzA5OTkzODY...

Server Logs:
POST /auth/token
POST /auth/token -> 200 (8ms)

---

# Task 4: Access Protected Route
Invoke-RestMethod -Uri http://localhost:3000/protected -Method GET -Headers @{ Authorization = "Bearer $jwt" }

Response:
message        user                                                                                     success_flag
-------        ----                                                                                     ------------
Access granted @{email=vanshikasharma.tech@gmail.com; sessionId=grbueo; iat=1770998486; exp=1770999386} FLAG-dmFuc2hpa2FzaGFybWEudGVjaEBnbWFpbC5jb21fQ09NUExFVEVEX0FTU0lHTk1FTlQ=

Server Logs:
GET /protected
GET /protected -> 200 (3ms)
